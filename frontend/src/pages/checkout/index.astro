--- 
// frontend/src/pages/checkout/index.astro
import MainLayout from '../../layouts/MainLayout.astro';
import CheckoutForm from '../../components/checkout/CheckoutForm';

// No verificamos autenticación aquí, dejamos que React lo maneje
---

<MainLayout title="Checkout Seguro - Retro Time">
  <div class="min-h-[calc(100vh-200px)] py-8">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Contenedor principal que envuelve todo -->
      <div class="bg-white rounded-lg shadow-xl p-6 md:p-8">
        <!-- Header -->
        <div class="text-center mb-8">
          <div class="flex items-center justify-center mb-4">
            <svg class="w-6 h-6 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
            </svg>
            <h1 class="text-3xl font-bold text-gray-900">Checkout Seguro</h1>
          </div>
          <p class="text-gray-600">Completa tu pedido de forma segura</p>
        </div>

        <!-- Progress Steps -->
        <div class="mb-8">
          <div class="flex items-center justify-center">
            <div class="flex items-center">
              <div class="flex items-center">
                <div class="bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold">
                  1
                </div>
                <span class="ml-2 text-gray-900 font-medium">Dirección</span>
              </div>
              <div class="w-20 h-1 bg-gray-300 mx-4"></div>
              <div class="flex items-center">
                <div class="bg-gray-300 text-gray-600 rounded-full w-10 h-10 flex items-center justify-center font-bold">
                  2
                </div>
                <span class="ml-2 text-gray-600">Pago</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Content -->
        <CheckoutForm 
          client:load 
          stripePublicKey="pk_test_51H9jRkKzR7hPqMvO2uZjV5pFwNkZXwJfGZ0123456789"
          paypalClientId="AXkTjDfE7_lPvHB_RqvLJ_Y7mM6PW7EaQOOqLxdZKRLN_q8-9aJ9QKJEkNrv9876543210"
        />
      </div>
    </div>
  </div>
</MainLayout>